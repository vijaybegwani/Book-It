<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF"
      crossorigin="anonymous"
    />
    
    <link rel="stylesheet" href="buy.css">
    

</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">BookIt</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="homepage.html">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="MyAccount.html">My Profile</a>
              </li>
            
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdown"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Trade
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="buyHome.html">Buy</a></li>
                  <li><a class="dropdown-item" href="sell.html">Sell</a></li>
                  <li><hr class="dropdown-divider" /></li>
                </ul>
              </li>
              <li class="nav-item">
                <a id="logout" class="nav-link active ">Logout</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      
  
  <center>
     <h1>My Products</h1>
      <div id="root">
       
      <div id="productContainer" > </div> &nbsp;&nbsp;
       
     </div>
    </center>
     <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-storage.js"></script>
     <script>

        const firebaseConfig = {
              apiKey: "AIzaSyAg6yb_FDLP79hyiw5cVqJSScoSaxxTiKw",
              authDomain: "bookit-6c0bb.firebaseapp.com",
              databaseURL: "https://bookit-6c0bb-default-rtdb.firebaseio.com",
              projectId: "bookit-6c0bb",
              storageBucket: "bookit-6c0bb.appspot.com",
              messagingSenderId: "953227991864",
              appId: "1:953227991864:web:0d63e90be99e09154bffcd",
              measurementId: "G-MVD3720NYL"
            };
        
        
        firebase.initializeApp(firebaseConfig);
        
        firebase.auth().onAuthStateChanged((user) => {
  if (user) {
        
    var uid = user.uid;
        
        var userDataRef = firebase.database().ref("Sem1_books").orderByChild("UserId").equalTo(uid)
        userDataRef.once("value")
          .then(function(snapshot) {
            snapshot.forEach(function(childSnapshot) {
              var key = childSnapshot.key;
              var childData = childSnapshot.val();
        
              //var sem_val = childSnapshot.val().Semester;
            var price_val = childSnapshot.val().Price;
            var aname_val = childSnapshot.val().AuthorName;
            var sub_val = childSnapshot.val().Subject;
            var url_val = childSnapshot.val().ImgURL;
        
        
            var productContainer = document.getElementById('productContainer')
            var product = `<div class="col1">
                <div  >
                    <img   src=${url_val}   height="190px" width="200px" id="image">
                    <div >
                      <h5 id="amount" >₹ ${price_val} /-</h5>
                      <p  id="subj" >${sub_val}
        
                     (<span>${aname_val}</span>)</p>
                     
                      
                    </div>
                  </div>
                </div>`
                productContainer.innerHTML += product;
              });
        })

        var userDataRef = firebase.database().ref("Sem2_books").orderByChild("UserId").equalTo(uid)
        userDataRef.once("value")
          .then(function(snapshot) {
            snapshot.forEach(function(childSnapshot) {
              var key = childSnapshot.key;
              var childData = childSnapshot.val();
        
              //var sem_val = childSnapshot.val().Semester;
            var price_val = childSnapshot.val().Price;
            var aname_val = childSnapshot.val().AuthorName;
            var sub_val = childSnapshot.val().Subject;
            var url_val = childSnapshot.val().ImgURL;
        
        
            var productContainer = document.getElementById('productContainer')
            var product = `<div class="col1">
                <div  >
                    <img   src=${url_val}   height="190px" width="200px" id="image">
                    <div >
                      <h5 id="amount" >₹ ${price_val} /-</h5>
                      <p  id="subj" >${sub_val}
        
                     (<span>${aname_val}</span>)</p>
                     
                      
                    </div>
                  </div>
                </div>`
                productContainer.innerHTML += product;
               });
        })

        var userDataRef = firebase.database().ref("Sem3_books").orderByChild("UserId").equalTo(uid)
        userDataRef.once("value")
          .then(function(snapshot) {
            snapshot.forEach(function(childSnapshot) {
              var key = childSnapshot.key;
              var childData = childSnapshot.val();
        
              //var sem_val = childSnapshot.val().Semester;
            var price_val = childSnapshot.val().Price;
            var aname_val = childSnapshot.val().AuthorName;
            var sub_val = childSnapshot.val().Subject;
            var url_val = childSnapshot.val().ImgURL;
        
        
            var productContainer = document.getElementById('productContainer')
            var product = `<div class="col1">
                <div  >
                    <img   src=${url_val}   height="190px" width="200px" id="image">
                    <div >
                      <h5 id="amount" >₹ ${price_val} /-</h5>
                      <p  id="subj" >${sub_val}
        
                     (<span>${aname_val}</span>)</p>
                     
                      
                    </div>
                  </div>
                </div>`
                productContainer.innerHTML += product;
              });
        })

        var userDataRef = firebase.database().ref("Sem4_books").orderByChild("UserId").equalTo(uid)
        userDataRef.once("value")
          .then(function(snapshot) {
            snapshot.forEach(function(childSnapshot) {
              var key = childSnapshot.key;
              var childData = childSnapshot.val();
        
              //var sem_val = childSnapshot.val().Semester;
            var price_val = childSnapshot.val().Price;
            var aname_val = childSnapshot.val().AuthorName;
            var sub_val = childSnapshot.val().Subject;
            var url_val = childSnapshot.val().ImgURL;
        
        
            var productContainer = document.getElementById('productContainer')
            var product = `<div class="col1">
                <div  >
                    <img   src=${url_val}   height="190px" width="200px" id="image">
                    <div >
                      <h5 id="amount" >₹ ${price_val} /-</h5>
                      <p  id="subj" >${sub_val}
        
                     (<span>${aname_val}</span>)</p>
                     
                      
                    </div>
                  </div>
                </div>`
                productContainer.innerHTML += product;
              });
        })

        var userDataRef = firebase.database().ref("Sem5_books").orderByChild("UserId").equalTo(uid)
        userDataRef.once("value")
          .then(function(snapshot) {
            snapshot.forEach(function(childSnapshot) {
              var key = childSnapshot.key;
              var childData = childSnapshot.val();
        
              //var sem_val = childSnapshot.val().Semester;
            var price_val = childSnapshot.val().Price;
            var aname_val = childSnapshot.val().AuthorName;
            var sub_val = childSnapshot.val().Subject;
            var url_val = childSnapshot.val().ImgURL;
        
        
            var productContainer = document.getElementById('productContainer')
            var product = `<div class="col1">
                <div  >
                    <img   src=${url_val}   height="190px" width="200px" id="image">
                    <div >
                      <h5 id="amount" >₹ ${price_val} /-</h5>
                      <p  id="subj" >${sub_val}
        
                     (<span>${aname_val}</span>)</p>
                     
                      
                    </div>
                  </div>
                </div>`
                productContainer.innerHTML += product;
              });
        })

        var userDataRef = firebase.database().ref("Sem6_books").orderByChild("UserId").equalTo(uid)
        userDataRef.once("value")
          .then(function(snapshot) {
            snapshot.forEach(function(childSnapshot) {
              var key = childSnapshot.key;
              var childData = childSnapshot.val();
        
              //var sem_val = childSnapshot.val().Semester;
            var price_val = childSnapshot.val().Price;
            var aname_val = childSnapshot.val().AuthorName;
            var sub_val = childSnapshot.val().Subject;
            var url_val = childSnapshot.val().ImgURL;
        
        
            var productContainer = document.getElementById('productContainer')
            var product = `<div class="col1">
                <div  >
                    <img   src=${url_val}   height="190px" width="200px" id="image">
                    <div >
                      <h5 id="amount" >₹ ${price_val} /-</h5>
                      <p  id="subj" >${sub_val}
        
                     (<span>${aname_val}</span>)</p>
                     
                      
                    </div>
                  </div>
                </div>`
                productContainer.innerHTML += product;
              });
        })

        var userDataRef = firebase.database().ref("Sem7_books").orderByChild("UserId").equalTo(uid)
        userDataRef.once("value")
          .then(function(snapshot) {
            snapshot.forEach(function(childSnapshot) {
              var key = childSnapshot.key;
              var childData = childSnapshot.val();
        
              //var sem_val = childSnapshot.val().Semester;
            var price_val = childSnapshot.val().Price;
            var aname_val = childSnapshot.val().AuthorName;
            var sub_val = childSnapshot.val().Subject;
            var url_val = childSnapshot.val().ImgURL;
        
        
            var productContainer = document.getElementById('productContainer')
            var product = `<div class="col1">
                <div  >
                    <img   src=${url_val}   height="190px" width="200px" id="image">
                    <div >
                      <h5 id="amount" >₹ ${price_val} /-</h5>
                      <p  id="subj" >${sub_val}
        
                     (<span>${aname_val}</span>)</p>
                     
                      
                    </div>
                  </div>
                </div>`
                productContainer.innerHTML += product;
              });
        })

        var userDataRef = firebase.database().ref("Sem8_books").orderByChild("UserId").equalTo(uid)
        userDataRef.once("value")
          .then(function(snapshot) {
            snapshot.forEach(function(childSnapshot) {
              var key = childSnapshot.key;
              var childData = childSnapshot.val();
        
              //var sem_val = childSnapshot.val().Semester;
            var price_val = childSnapshot.val().Price;
            var aname_val = childSnapshot.val().AuthorName;
            var sub_val = childSnapshot.val().Subject;
            var url_val = childSnapshot.val().ImgURL;
        
        
            var productContainer = document.getElementById('productContainer')
            var product = `<div class="col1">
                <div  >
                    <img   src=${url_val}   height="190px" width="200px" id="image">
                    <div >
                      <h5 id="amount" >₹ ${price_val} /-</h5>
                      <p  id="subj" >${sub_val}
        
                     (<span>${aname_val}</span>)</p>
                     
                      
                    </div>
                  </div>
                </div>`
                productContainer.innerHTML += product;
              });
        })

        }});
        
        
        </script>
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-kQtW33rZJAHjgefvhyyzcGF3C5TFyBQBA13V1RKPf4uH+bwyzQxZ6CmMZHmNBEfJ" crossorigin="anonymous"></script>
            <script src="logout.js"></script>
            
</body>
</html>